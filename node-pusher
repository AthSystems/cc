-- Node Block Pusher
local modem = peripheral.find("modem") or error("No modem found", 0)
local gearshift = peripheral.wrap("bottom")
rednet.open(peripheral.getName(modem))

local nodeID = os.getComputerID()
local rs_5m_up = "left"
local rs_1m_up = "bottom"
local rs_15_down = "right"
local name = "pusherNode"

print("Node " .. name .. " ready")


function move_plate(length, speed)
  p.move(length, speed)
end


while true do
    local senderID, msg = rednet.receive()

    if msg == "5m" then
      move_plate(5, 2)
      rednet.send(senderID, name .. ": Moving 5m upward.")
    elseif msg == "1m" then
      move_plate(1, 2)
      rednet.send(senderID, name .. ": Moving 1m upward.")
    else
      move_plate(15, -2)
      rednet.send(senderID, name .. ": Moving back to ground.")
    end
end
