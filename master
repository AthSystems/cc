local modem = peripheral.find("modem") or error("No modem", 0)
rednet.open(peripheral.getName(modem))

local nodeDrills = 0


function send(id, message)
    print("→ Sending to " .. id .. ": " .. message)
    rednet.send(id, message)
end

function waitForReply(waitFor)
    while true do
        local _, reply = rednet.receive(5)
        if reply and string.find(reply, waitFor) then
            print("✔ " .. reply)
            break
        end
    end
end

function stop()
    print("Stopping farm")
end


send(nodeDrills,"backward")
waitForReply("DFB")
send(nodeDrills,"frontward")
waitForReply("DFF")
send(nodeDrills,"backward")
waitForReply("DFB")
